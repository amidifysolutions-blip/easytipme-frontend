<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Easy Tip Me | Digital Tipping Solution</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; margin: 0; display: flex; min-height: 100vh; background: #fff; color: #1d1d1f; -webkit-font-smoothing: antialiased; }
        
        /* الجهة اليسرى: الهوية والمميزات (Black Side) */
        .brand-side { 
            flex: 1.2; background: #000; color: #fff; display: flex; flex-direction: column; 
            justify-content: center; padding: 60px 80px; position: relative;
        }
        .logo-section { display: flex; align-items: center; gap: 15px; margin-bottom: 50px; }
        .logo-box { width: 60px; height: 60px; background: #fff; border-radius: 12px; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .logo-box img { width: 85%; height: auto; }
        .brand-name-top { font-size: 26px; font-weight: 700; letter-spacing: -1px; }

        .brand-side h1 { font-size: 52px; font-weight: 700; line-height: 1.1; margin-bottom: 20px; letter-spacing: -2px; }
        .brand-side p { font-size: 19px; color: #a1a1a6; line-height: 1.5; max-width: 450px; margin-bottom: 40px; }
        
        .feature-item { display: flex; align-items: center; margin-bottom: 25px; font-size: 16px; color: #eee; }
        .feature-item::before { content: "●"; margin-right: 15px; color: #fff; font-size: 10px; }

        /* الجهة اليمنى: العمليات (White Side) */
        .action-side { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px; background: #fff; position: relative; }
        .form-container { width: 100%; max-width: 380px; }
        
        .auth-toggle { display: flex; background: #f5f5f7; padding: 4px; border-radius: 12px; margin-bottom: 40px; }
        .toggle-btn { flex: 1; padding: 12px; border: none; background: none; font-size: 14px; font-weight: 600; cursor: pointer; border-radius: 9px; transition: 0.2s; color: #86868b; }
        .toggle-btn.active { background: #fff; color: #000; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }

        .form-header h2 { font-size: 32px; font-weight: 700; margin-bottom: 10px; letter-spacing: -1px; }
        .form-header p { font-size: 15px; color: #86868b; margin-bottom: 35px; }

        .input-group { margin-bottom: 18px; text-align: left; position: relative; }
        .input-group label { display: block; font-size: 11px; font-weight: 700; margin-bottom: 6px; text-transform: uppercase; color: #1d1d1f; letter-spacing: 0.5px; }
        .input-group input { width: 100%; padding: 16px; border-radius: 12px; border: 1.5px solid #eee; font-size: 16px; outline: none; transition: 0.2s; box-sizing: border-box; background: #f9f9f9; }
        .input-group input:focus { border-color: #000; background: #fff; box-shadow: 0 0 0 4px rgba(0,0,0,0.05); }
        
        .forgot-link { font-size: 12px; color: #007aff; text-decoration: none; position: absolute; right: 0; top: 0; font-weight: 500; }

        .main-btn { width: 100%; background: #000; color: #fff; border: none; padding: 20px; border-radius: 14px; font-size: 17px; font-weight: 600; cursor: pointer; margin-top: 15px; transition: 0.3s; }
        .main-btn:hover { background: #333; transform: translateY(-1px); }

        .power-by { position: absolute; bottom: 25px; font-size: 11px; color: #c7c7cc; font-weight: 600; letter-spacing: 1px; }

        #signupFields { display: none; }

        @media (max-width: 992px) { .brand-side { display: none; } .action-side { padding: 40px 20px; } }
    </style>
</head>
<body>

    <div class="brand-side">
        <div class="logo-section">
            <div class="logo-box">
                <div style="font-weight: 900; color: #000; font-size: 20px;">ETM</div>
            </div>
            <span class="brand-name-top">Easy Tip Me</span>
        </div>
        <h1>Elevate Service.<br>Simplify Tipping.</h1>
        <p>The ultimate SaaS platform for modern restaurants and service businesses to manage digital tips.</p>
        
        <div class="feature-item">Instant Team Onboarding</div>
        <div class="feature-item">Real-time Analytics Dashboard</div>
        <div class="feature-item">Automated SMS Notifications</div>
        <div class="feature-item">Secure Global Payouts</div>
    </div>

    <div class="action-side">
        <div class="form-container">
            <div class="auth-toggle">
                <button class="toggle-btn active" id="loginTab" onclick="toggleAuth('login')">Log In</button>
                <button class="toggle-btn" id="signupTab" onclick="toggleAuth('signup')">Get Started</button>
            </div>

            <div class="form-header">
                <h2 id="formTitle">Welcome Back</h2>
                <p id="formDesc">Enter your credentials to access your dashboard.</p>
            </div>

            <form id="authForm" novalidate>
                <div id="signupFields">
                    <div class="input-group">
    <label>Business Name</label>
    <input type="text" id="bizNameInput" placeholder="Enter Business Name" required>
</div>
                    <div class="input-group">
                        <label>Owner Name</label>
                        <input type="text" id="regOwnerName" placeholder="Your Full Name">
                    </div>
                    <div class="input-group">
                        <label>Phone Number</label>
                        <input type="tel" id="regPhone" placeholder="+1 (000) 000-0000">
                    </div>
                </div>

                <div class="input-group">
                    <label>Email Address</label>
                    <input type="email" id="authEmail" placeholder="manager@business.com" required>
                </div>

                <div class="input-group">
                    <label>Password</label>
                    <a href="javascript:void(0)" class="forgot-link" id="forgotBtn" onclick="alert('Please contact Amidify Solutions support to reset your password.')">Forgot Password?</a>
                    <input type="password" id="authPass" placeholder="••••••••" required>
                </div>

                <button type="submit" class="main-btn" id="submitBtn">Sign In</button>
            </form>
        </div>
        
        <div class="power-by">POWER BY AMIDIFY SOLUTIONS INC</div>
    </div>

    <script>
let authMode = "login";

// =========================
// Toggle Login / Signup
// =========================
function toggleAuth(mode) {
    authMode = mode;

    const signupFields = document.getElementById('signupFields');
    const formTitle = document.getElementById('formTitle');
    const formDesc = document.getElementById('formDesc');
    const submitBtn = document.getElementById('submitBtn');
    const forgotBtn = document.getElementById('forgotBtn');
    const loginTab = document.getElementById('loginTab');
    const signupTab = document.getElementById('signupTab');

    if (mode === 'signup') {
        signupFields.style.display = 'block';
        formTitle.innerText = 'Create Account';
        formDesc.innerText = 'Start your 30-day free trial today.';
        submitBtn.innerText = 'Register Business';
        forgotBtn.style.display = 'none';
        signupTab.classList.add('active');
        loginTab.classList.remove('active');
    } else {
        signupFields.style.display = 'none';
        formTitle.innerText = 'Welcome Back';
        formDesc.innerText = 'Enter your credentials to access your dashboard.';
        submitBtn.innerText = 'Sign In';
        forgotBtn.style.display = 'block';
        loginTab.classList.add('active');
        signupTab.classList.remove('active');
    }
}

// =========================
// Signup Handler
// =========================
function handleSignup() {
    const bName = document.getElementById('bizNameInput').value;
    const email = document.getElementById('authEmail').value;
    const pass = document.getElementById('authPass').value;
    const phone = document.getElementById('regPhone').value;

    const newBizId = 'biz_' + Date.now();

    const businessData = {
        id: newBizId,
        name: bName,
        email: email,
        password: pass,
        phone: phone,
        status: 'Active'
    };

    let allBusinesses = JSON.parse(localStorage.getItem('all_businesses') || '[]');
    allBusinesses.push(businessData);
    localStorage.setItem('all_businesses', JSON.stringify(allBusinesses));

    // Auto-login after signup
    localStorage.setItem('user_role', 'customer');
    localStorage.setItem('temp_biz_id', newBizId);
    localStorage.setItem('temp_biz_name', bName);
    localStorage.setItem('temp_biz_email', email);

    window.location.href = "dashboard.html";
}

// =========================
// Login Handler
// =========================
function handleLogin(email, pass) {
    // Master account
    if (email === "admin@mouneh.com" && pass === "123") {
        localStorage.setItem('user_role', 'master');
        window.location.href = "master-control.html";
        return;
    }

    // Business login
    const allBusinesses = JSON.parse(localStorage.getItem('all_businesses') || '[]');
    const foundBiz = allBusinesses.find(b => b.email === email && b.password === pass);

    if (!foundBiz) {
        alert("Invalid email or password");
        return;
    }

    localStorage.setItem('user_role', 'customer');
    localStorage.setItem('temp_biz_id', foundBiz.id);
    localStorage.setItem('temp_biz_name', foundBiz.name);
    localStorage.setItem('temp_biz_email', foundBiz.email);

    window.location.href = "dashboard.html";
}

// =========================
// Form Submit
// =========================
document.getElementById('authForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const email = document.getElementById('authEmail').value;
    const pass = document.getElementById('authPass').value;

    if (authMode === "login") {
        handleLogin(email, pass);
    } else {
        handleSignup();
    }
});
</script>

</body>
</html>
